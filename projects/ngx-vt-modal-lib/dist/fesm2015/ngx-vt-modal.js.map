{"version":3,"file":"ngx-vt-modal.js","sources":["../../src/lib/model/ngx-vt-modal-close-status.ts","../../src/lib/model/ngx-vt-modal-size.ts","../../src/lib/modal-template/ngx-vt-modal-template.component.ts","../../src/lib/modal-template/ngx-vt-modal-template.component.html","../../src/lib/ngx-vt-modal.service.ts","../../src/lib/ngx-vt-modal.module.ts","../../src/public-api.ts","../../src/ngx-vt-modal.ts"],"sourcesContent":["export enum NgxVtModalCloseStatus {\n  ESC = 'esc',\n  BACKDROP = 'backdrop',\n  BUTTON = 'button',\n}\n","export enum NgxVtModalSize {\n  DEFAULT = 'default',\n  SMALL = 'small',\n  FULLSCREEN = 'fullscreen',\n}\n","import { Component, HostListener, Input, OnInit } from '@angular/core';\n\nimport { NgxVtModalOptions } from '../model/ngx-vt-modal-options';\nimport { NgxVtModalService } from '../ngx-vt-modal.service';\nimport { NgxVtModalCloseStatus } from '../model/ngx-vt-modal-close-status';\nimport { NgxVtModalSize } from '../model/ngx-vt-modal-size';\n\n@Component({\n  selector: 'ngx-vt-modal-template',\n  templateUrl: './ngx-vt-modal-template.component.html',\n  styleUrls: [\n    './ngx-vt-modal-default-template.component.scss',\n    './ngx-vt-modal-fullscreen-template.component.scss',\n    './ngx-vt-modal-small-template.component.scss'\n  ]\n})\nexport class NgxVtModalTemplateComponent implements OnInit {\n\n  @Input() options: NgxVtModalOptions;\n\n  showHeader = true;\n  showCloseButton = true;\n  modalSize = NgxVtModalSize.DEFAULT;\n\n  constructor(private service: NgxVtModalService) {\n  }\n\n  @HostListener('window:keydown.esc')\n  escape(): void {\n    if (this.options.useEsc) {\n      this.service.close({ dismiss: NgxVtModalCloseStatus.ESC });\n    }\n  }\n\n  ngOnInit(): void {\n    this.showHeader = typeof this.options.showHeader === 'undefined' ? true : this.options.showHeader;\n    this.showCloseButton = typeof this.options.showCloseButton === 'undefined' ? true : this.options.showCloseButton;\n    this.modalSize = Object.values(NgxVtModalSize).includes(this.options?.size) ? this.options?.size : NgxVtModalSize.DEFAULT;\n  }\n\n  close(): void {\n    this.service.close({ dismiss: NgxVtModalCloseStatus.BUTTON });\n  }\n}\n","<div class=\"ngx-vt-modal-{{modalSize}}\">\r\n  <div class=\"ngx-vt-modal-{{modalSize}}__header\" *ngIf=\"showHeader\">\r\n    <div class=\"ngx-vt-modal-{{modalSize}}__title\">{{ options?.title }}</div>\r\n    <div class=\"ngx-vt-modal-{{modalSize}}__close\" (click)=\"close()\"  *ngIf=\"showCloseButton\">âœ–</div>\r\n  </div>\r\n  <div id=\"ngx-vt-modal-body\" class=\"ngx-vt-modal-{{modalSize}}__body\"></div>\r\n</div>\r\n","import {\n  ApplicationRef,\n  ComponentFactoryResolver,\n  EmbeddedViewRef,\n  EventEmitter,\n  Inject,\n  Injectable,\n  Injector,\n  Renderer2,\n  RendererFactory2,\n  Type\n} from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { NgxVtModalTemplateComponent } from './modal-template/ngx-vt-modal-template.component';\nimport { NgxVtModalOptions } from './model/ngx-vt-modal-options';\nimport { Observable } from 'rxjs';\nimport { NgxVtModalCloseStatus } from './model/ngx-vt-modal-close-status';\n\n\n@Injectable()\nexport class NgxVtModalService {\n\n  private backdrop: HTMLDivElement;\n  private modals = [];\n  private renderer: Renderer2;\n  private MODAL_BODY_SELECTOR = 'div#ngx-vt-modal-body';\n  private DEFAULT_BACKGROUND_COLOR = '#00000066'\n\n  constructor(\n    @Inject(DOCUMENT) private document: Document,\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private appRef: ApplicationRef,\n    private injector: Injector,\n    private rendererFactory: RendererFactory2,\n  ) {\n    this.renderer = rendererFactory.createRenderer(null, null);\n  }\n\n  open(component: Type<any>, options?: NgxVtModalOptions): { closeModal$: Observable<any> } | any {\n    this.createBackdrop();\n    const host = this.createHost(options);\n\n    const modalRef = this.componentFactoryResolver.resolveComponentFactory<any>(NgxVtModalTemplateComponent).create(this.injector);\n    modalRef.instance.options = { ...options };\n\n    const componentRef = this.componentFactoryResolver.resolveComponentFactory<any>(component).create(this.injector);\n    componentRef.instance.data = { ...options?.data };\n    componentRef.instance.closeModal$ = new EventEmitter();\n\n    const domNodeModal = (modalRef.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\n    const modalBody = domNodeModal.querySelector(this.MODAL_BODY_SELECTOR);\n    const domNodeComponent = (componentRef.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\n\n    if (options?.class) {\n      this.renderer.addClass(domNodeModal, options.class);\n    }\n\n    modalBody.append(domNodeComponent);\n    host.append(domNodeModal);\n\n    this.modals.push({ modal: modalRef, component: componentRef, host });\n\n    this.appRef.attachView(modalRef.hostView);\n    this.appRef.attachView(componentRef.hostView);\n    this.renderer.appendChild(this.backdrop, host);\n\n    return componentRef.instance;\n  }\n\n  close(data?: any): void {\n    if (!this.modals?.length) {\n      return;\n    }\n\n    const removedModal = this.modals.pop();\n\n    this.appRef.detachView(removedModal.component.hostView);\n    removedModal.component.instance.closeModal$.next(data);\n    removedModal.component.destroy();\n\n    this.appRef.detachView(removedModal.modal.hostView);\n    removedModal.modal.destroy();\n\n    this.renderer.removeChild(this.backdrop, removedModal.host);\n\n    if (!this.modals.length) {\n      this.renderer.removeChild(this.document.body, this.backdrop);\n      this.backdrop = null;\n    }\n  }\n\n  private createHost(options?: NgxVtModalOptions): HTMLDivElement {\n    const host = this.renderer.createElement('div');\n    this.renderer.setStyle(host, 'zIndex', `${this.maxZIndex() + 1}`);\n    this.renderer.addClass(host, 'ngx-vt-modal-host');\n    this.renderer.setStyle(host, 'position', 'fixed');\n    this.renderer.setStyle(host, 'width', '100%');\n    this.renderer.setStyle(host, 'height', '100%');\n\n    if (options?.closeOnBackdropClick) {\n      this.renderer.listen(this.backdrop, 'click', (event) => {\n        if(host == event.target) {\n          this.close({dismiss: NgxVtModalCloseStatus.BACKDROP})\n        }\n      })\n    }\n\n    return host;\n  }\n\n  private createBackdrop(): void {\n    if(!this.backdrop) {\n      this.backdrop = this.renderer.createElement('div');\n      this.renderer.setStyle(this.backdrop, 'zIndex', `${this.maxZIndex() + 1}`);\n      this.renderer.addClass(this.backdrop, 'ngx-vt-modal-backdrop');\n      this.renderer.setStyle(this.backdrop, 'position', 'fixed');\n      this.renderer.setStyle(this.backdrop, 'top', 0);\n      this.renderer.setStyle(this.backdrop, 'left', 0);\n      this.renderer.setStyle(this.backdrop, 'width', '100%');\n      this.renderer.setStyle(this.backdrop, 'height', '100%');\n\n      // check if global css has rule for backdrop background\n      // add to style.css rule :\n      // :root {\n      //   --ngx-vt-modal-backdrop-background : yourColor;\n      // }\n      const background = getComputedStyle(document.documentElement)\n        .getPropertyValue('--ngx-vt-modal-backdrop-background')  || this.DEFAULT_BACKGROUND_COLOR;\n      this.renderer.setStyle(this.backdrop, 'backgroundColor', background);\n\n      const appRoot = this.document.body;\n      this.renderer.appendChild(appRoot, this.backdrop);\n    }\n  }\n\n  private maxZIndex(): number {\n    return Math.max(\n      ...Array.from(document.getElementsByTagName('div'), el => {\n        const style = getComputedStyle(el);\n        return style.position !== 'static' && +style.zIndex > 0 && +style.zIndex\n      }), 0\n    );\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NgxVtModalTemplateComponent } from './modal-template/ngx-vt-modal-template.component';\n\n@NgModule({\n  declarations: [\n    NgxVtModalTemplateComponent\n  ],\n  imports: [\n    CommonModule\n  ],\n  providers: []\n})\nexport class NgxVtModalModule {\n}\n","/*\n * Public API Surface of ngx-vt-modal\n */\n\nexport * from './lib/ngx-vt-modal.service';\nexport * from './lib/ngx-vt-modal.module';\nexport * from './lib/model/ngx-vt-modal-size';\nexport * from './lib/model/ngx-vt-modal-options';\nexport * from './lib/model/ngx-vt-modal-close-status';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i1.NgxVtModalService"],"mappings":"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"}